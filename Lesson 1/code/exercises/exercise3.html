<!doctype html>  
<head>  
  <meta charset="utf-8">  
  <title>Exercise 3</title>    
</head>  

<body>
    
    <p>
        Standard Books: <label id="standardBooksLabel"></label><br />
        Free: <label id="standardFreeLabel"></label> <br />
        Borrowed: <label id="standardBorrowedLabel"></label>
    </p>
    
    <p>
        VIP Books: <label id="vipBooksLabel"></label><br />
        Free: <label id="vipFreeLabel"></label> <br />
        Borrowed: <label id="vipBorrowedLabel"></label>
    </p>
    
    <p>
        <input id="titleInput" />
    </p>
    
    <button id="addStandardBookBtn">Add Standard Book</button>
    <button id="addVipBookBtn">Add VIP Book</button>
    <button id="borrowStandardBtn">Borrow Standard Book</button>
    <button id="borrowVipBtn">Borrow VIP Book</button>
    
    <script type="text/javascript">
        
        var sampleBook = {
            title: 'Harry Potter',
            isBorrowed: false
        };
        
        var library = {
            standards: [],
            vip: []
        };
        
        
        function addStandardBook(title) {
        	var book = {
	            title: title,
	            isBorrowed: false
        	};
            library.standards.push(book);
        }
        
        function addVipBook(title) {
        	var book = {
	            title: title,
	            isBorrowed: false
        	};
            library.vip.push(book);
        }
        
        function borrowStandardBook(title) {
            library.standards.filter(function(val){
            	return val.title == title;
            })[0].isBorrowed = true;
        }
        
        function borrowVipBook(title) {
            library.vip.filter(function(val){
            	return val.title == title;
            })[0].isBorrowed = true;
        }        

        function printStandards() {
            var free = '', borrowed = '';          

            library.standards.forEach(function(book){
	    		if(book.isBorrowed)
	        		borrowed += book.title  + ", ";
	        	else 
	        		free += book.title  + ", ";
	        });

            document.getElementById("standardFreeLabel").innerHTML = free;
            document.getElementById("standardBorrowedLabel").innerHTML = borrowed;
        }
        
        function printVip() {
            var free = '', borrowed = '';
            
            library.vip.forEach(function(book){
	    		if(book.isBorrowed)
	        		borrowed += book.title  + ", ";
	        	else 
	        		free += book.title  + ", ";
	        });
            
            document.getElementById("vipFreeLabel").innerHTML = free;
            document.getElementById("vipBorrowedLabel").innerHTML = borrowed;
        }
        
    </script>
    
    
    <script type="text/javascript">
        
        document.getElementById("addStandardBookBtn").addEventListener("click", function() { 
            var title = document.getElementById("titleInput").value;
            addStandardBook(title);
            printStandards();
            printVip();
        });
        document.getElementById("addVipBookBtn").addEventListener("click", function() { 
            var title = document.getElementById("titleInput").value;
            addVipBook(title);
            printStandards();
            printVip();
        });
        document.getElementById("borrowStandardBtn").addEventListener("click", function() { 
            var title = document.getElementById("titleInput").value;
            borrowStandardBook(title);
            printStandards();
            printVip();
        });
        document.getElementById("borrowVipBtn").addEventListener("click", function() { 
            var title = document.getElementById("titleInput").value;
            borrowVipBook(title);
            printStandards();
            printVip();
        });

    </script>
    
</body>
</html>  